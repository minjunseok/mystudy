/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Groovy application project to get you started.
 * For more details on building Java & JVM projects, please refer to https://docs.gradle.org/8.4/userguide/building_java_projects.html in the Gradle documentation.
 */
//Gradle 빌드 도구가 사용할 플러그인 설정
plugins {
    //java 플러그인 사용
    id 'java'


    //eclip IDE 관련 작업을 수행할 수 있는 플러그인
    id 'eclipse'

    // 실행할 수 있는 자바 애플리케이션을 생성하는 플러그인 'java'플러그인은 자동추가
    // 따로 'java' 플러그인 추가할 필요없음
   // id 'application' //application = java + 실행과 관련된 태스크
}
//이 프로젝트에서 사용할 외부 라이브러리를 제공하는 서버 설정.
//외부 라이브러리?
// - 다른 개발자가 만든 코드를 담고 있는 파일읻.
repositories {
    //Maven 사이트에서 제공하는 라이브러리 서버
    mavenCentral()
}
//이 프로젝트에서 사용할 외부 라이브러리를 지정한다.
//여기에 다운로드할 외부 라이브러리를 지정한다.
// 빌드 할 때 자동으로 라이브러리를 다운로드할 것이다.
dependencies {
    //일반적으로 애플리케이션을 개발할 때 많이 사용하는 라이브러리
    //구글 개발자들이 만든 라이브러리

    implementation 'org.codehaus.groovy:groovy-all:3.0.18'

    implementation 'com.google.guava:guava:32.1.1-jre'


//단위 테스트 할 때 관련된 라이브러리
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

//소스파일이 어떤 자바 버전으로 되어 있는지 Gradle에게 알려준다.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

/*
// 'application' 플러그인과 관련된 설정
application {
  mainClass = 'Hello' //'run' 명령을 수행할 때
    //실행시킬 자바 클래스이름을 지정
}
*/

//단위 테스트를 수행할 때 사용할 설정
tasks.named('test') {
    useJUnitPlatform() //단위 테스트를 수행할 때 jnit 도구를 사용하도록 지정
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = 'UTF-8'
}

//eclipse 프로젝트 이름 설정
eclipse {
    project {
        name = "java-basic"
    }
    jdt {
      sourceCompatibility = 21
      targetCompatibility = 21
      javaRuntimeName = "JavaSE-21"
    }
}
